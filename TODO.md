# TODO - Missing Data & Improvements

**Last Updated**: 2026-01-30 (Sub-agent research completed)

---

## Confirmed Data ‚úÖ

### OEGS (Gassim / Prince Naif Bin Abdulaziz International)
‚úÖ **ILS CAT I RWY 15**: OCA(H) 2340(214ft), RVR 800m ‚Äî **CONFIRMED** (Saudi GACA AIP AIRAC 04/24)
‚úÖ **LOC RWY 15**: OCA(H) 2580(454ft), vis 1600m ‚Äî **CONFIRMED** (Saudi GACA AIP AIRAC 04/24)
‚úÖ **VOR RWY 15**: OCA(H) 2590(464ft), vis 1400m ‚Äî **CONFIRMED** (Saudi GACA AIP AIRAC 04/24)
‚úÖ **Elevation**: 2126 ft MSL
‚úÖ **Runway**: 15/33, heading 149¬∞/329¬∞ (true 153¬∞/333¬∞)
‚úÖ **Navaids**: ILS IGAS 110.1 MHz, VOR/TACAN GAS 117.1 MHz

‚ö†Ô∏è **VOR RWY 33**: Chart exists but minimums not extracted ‚Äî **ESTIMATED** 500ft/1600m

---

### OERK (King Khalid International Airport, Riyadh)
‚úÖ **ILS all 4 runways**: DH 200ft, RVR 550m (Cat A), 800m (Cat C/D) ‚Äî **CONFIRMED** (Saudi GACA AIP)
‚úÖ **Elevation**: 2053 ft MSL
‚úÖ **Runways**: 15L/33R and 15R/33L, heading 147¬∞/327¬∞ (true 150¬∞/330¬∞)
‚úÖ **Approach lighting**: ALSF2 900m on all runways
‚úÖ **Navaid**: DVOR/TACAN KIA 113.3 MHz

---

### OEHL (Hail Regional Airport)
‚úÖ **ILS CAT I RWY 18 EXISTS**: IHIL 110.3 MHz, GP 335.0 MHz ‚Äî **CONFIRMED** (Saudi AIP)
‚úÖ **VOR RWY 18 EXISTS**: Confirmed in Saudi AIP
‚úÖ **RNP approaches**: RNP RWY 18 and RNP RWY 36 confirmed to exist
‚úÖ **Elevation**: 3305 ft MSL ‚Äî **CONFIRMED** (SkyVector)
‚úÖ **Runway**: 18/36, heading 180¬∞/360¬∞ (true 184¬∞/4¬∞)
‚úÖ **Navaid**: DVOR/TACAN HIL 113.5 MHz

‚ö†Ô∏è **ILS minimums NOT EXTRACTED** ‚Äî **ESTIMATED** 200ft/800m (standard CAT I)
‚ö†Ô∏è **VOR minimums NOT EXTRACTED** ‚Äî **ESTIMATED** 500ft/1600m
‚ö†Ô∏è **RNP minimums NOT EXTRACTED** ‚Äî **ESTIMATED** 400ft/1600m

**ACTION NEEDED**: Extract exact minimums from Saudi GACA AIP IAP charts for OEHL ILS/VOR/RNP approaches

---

### OEAH (Al-Ahsa Airport)
‚úÖ **ILS CAT I RWY 34 EXISTS**: IHSA 110.9 MHz, GP 330.8 MHz ‚Äî **CONFIRMED** (Saudi AIP)
‚úÖ **CALVERT CAT I approach lighting**: 900m on RWY 34 ‚Äî **CONFIRMED**
‚úÖ **Elevation**: 588 ft MSL ‚Äî **CONFIRMED** (SkyVector)
‚úÖ **Runway**: 16/34, heading ~162¬∞/342¬∞ (true 165¬∞/345¬∞)
‚úÖ **Navaid**: VOR/TACAN HSA 116.6 MHz

‚ö†Ô∏è **ILS minimums NOT EXTRACTED** ‚Äî **ESTIMATED** 200ft/800m (standard CAT I with approach lighting)
‚ö†Ô∏è **VOR approach**: Likely available but not confirmed

**ACTION NEEDED**: Extract exact minimums from Saudi GACA AIP IAP chart for OEAH ILS RWY 34

---

### OEDM (Dawadmi Domestic Airport)
‚úÖ **Elevation**: 3031 ft MSL ‚Äî **CONFIRMED** (SkyVector)
‚úÖ **Runway**: 15/33, heading 151¬∞/331¬∞ (true 154¬∞/334¬∞)
‚úÖ **Runway dimensions**: 10007 x 148 feet / 3050 x 45 meters ‚Äî **CONFIRMED**
‚úÖ **Navaid**: VOR/TACAN DAW 116.1 MHz
‚úÖ **Operations**: Uncontrolled, TIBA procedures ‚Äî **CONFIRMED**

‚ö†Ô∏è **VOR minimums**: **ESTIMATED** 600ft/2000m (conservative due to elevation/terrain)

**ACTION NEEDED**: Verify if any published VOR or NDB approach procedures exist for OEDM

---

### OEDR (Dhahran / King Abdulaziz Air Base)
‚úÖ **Elevation**: **84 ft MSL** ‚Äî **CONFIRMED** (SkyVector) ‚Äî **CORRECTED from previous estimate of ~2000 ft**
‚úÖ **Runways confirmed**:
  - 16R/34L: 12008 x 148 feet (3660 x 45m), heading 163¬∞/343¬∞ (true 165¬∞/345¬∞)
  - 16L/34R: 11811 x 148 feet (3600 x 45m), heading 163¬∞/343¬∞ (true 165¬∞/345¬∞)
  - 06/24: heading 060¬∞/240¬∞ (true 062¬∞/242¬∞)
‚úÖ **Navaid**: VOR/TACAN DHA 117.2 MHz ‚Äî **CONFIRMED**

‚ö†Ô∏è **ILS minimums**: **ESTIMATED** 200ft/800m (military field, not published)
‚ö†Ô∏è **VOR minimums**: **ESTIMATED** 500ft/1600m

**ACTION NEEDED**: Coordinate with KFAA for military approach data (King Abdulaziz Air Base)

---

### OEKF (King Faisal Air Academy ‚Äî HOME FIELD)
‚úÖ **Elevation**: 2070 ft MSL
‚úÖ **Runways**: 15L/33R and 15R/33L, heading 150¬∞/330¬∞ (true 154¬∞/334¬∞)
‚úÖ **Navaids**:
  - DVORTAC MKF 111.4 MHz
  - ILS 15L: IMKF 108.1 MHz
  - ILS 33R: IEHS 108.5 MHz
  - ILS 33L: IJAL 110.9 MHz

‚ö†Ô∏è **All minimums ESTIMATED** (military, not publicly published):
  - ILS: DH ~200ft, vis 800m
  - VOR/TACAN: MDA ~500ft, vis 1600m

‚ö†Ô∏è **T-21 IFR PHASE LOGIC**: Must use HIGHER visibility of 2 available approaches (ILS 800m vs VOR/TACAN 1600m) ‚Üí **IFR phase threshold = 1600m visibility**

**ACTION NEEDED**: Obtain official OEKF approach charts from KFAA Flight Operations

---

### OEKK (King Saud Air Base)
‚úÖ **Runway**: 18/36
‚úÖ **Navaid**: VOR/TACAN KMC 115.9 MHz
‚úÖ **AFIS**: 120.7 MHz

‚ö†Ô∏è **Elevation**: ~2000 ft MSL (estimated)
‚ö†Ô∏è **Runway heading**: 180¬∞/360¬∞ (estimated)
‚ö†Ô∏è **VOR minimums**: **ESTIMATED** 500ft/1600m

**ACTION NEEDED**: Coordinate with KFAA for military approach data

---

### OEPS (Prince Sultan Air Base)
‚úÖ **Elevation**: 1651 ft MSL
‚úÖ **Runways**: 17R/35L and 17L/35R, heading 170¬∞/350¬∞ (true 173¬∞/353¬∞)

‚ö†Ô∏è **ILS minimums**: **ESTIMATED** 200ft/800m (military field, not published)

**ACTION NEEDED**: Coordinate with KFAA for military approach data

---

## Critical Findings üîç

### 1. OEDR Elevation Correction
**PREVIOUS**: ~2000 ft MSL (estimated)
**CORRECTED**: **84 ft MSL** (confirmed via SkyVector)
**IMPACT**: Significantly lower field elevation. Affects divert planning, fuel calculations may need review. Lowest elevation of all alternates.

### 2. OEHL and OEAH ILS Approaches Confirmed to Exist
**OEHL**: ILS CAT I RWY 18 (IHIL 110.3 MHz) exists but minimums not extracted from AIP charts
**OEAH**: ILS CAT I RWY 34 (IHSA 110.9 MHz) with CALVERT CAT I lighting exists but minimums not extracted

**ESTIMATED minimums**: 200ft/800m (standard CAT I)
**ACTION**: These are high-priority for extraction from Saudi GACA AIP

### 3. OEKF (Home Field) IFR Phase Logic
For T-21 at KFAA, the IFR phase is determined by the **higher visibility requirement** of 2 available instrument approaches:
- **ILS approaches**: 800m visibility minimum
- **VOR/TACAN approach**: 1600m visibility minimum

**IFR PHASE THRESHOLD**: Weather below **1600m visibility** triggers IFR phase (not 800m)

This logic is critical for operational phase determination and is now documented in `airfield_data.json`.

---

## High-Priority Actions üìã

### 1. Extract OEHL and OEAH Minimums from Saudi AIP
**Airfields**: OEHL (Hail), OEAH (Al-Ahsa)
**Data needed**:
- OEHL ILS RWY 18 exact OCA(H) and visibility/RVR
- OEHL VOR RWY 18 exact OCA(H) and visibility
- OEAH ILS RWY 34 exact OCA(H) and visibility/RVR

**Source**: Saudi GACA AIP at aimss.sans.com.sa ‚Üí AD 2 AERODROMES section ‚Üí OEHL and OEAH IAP charts

**Current status**: Approaches confirmed to exist, minimums estimated at standard CAT I values

---

### 2. Obtain OEKF Approach Charts from KFAA Flight Ops
**Critical**: OEKF is the home field ‚Äî official approach minimums needed for accurate IFR phase determination

**Data needed**:
- Official ILS approach minimums (all 3 ILS approaches)
- Official VOR/TACAN approach minimums
- Confirmation of IFR phase logic (higher of 2 approaches)

**Source**: KFAA Flight Operations / Base Ops

---

### 3. Verify OEKK, OEPS, OEDR Military Approach Data
**Airfields**: OEKK (King Saud AB), OEPS (Prince Sultan AB), OEDR (King Abdulaziz AB)
**Data needed**: Official approach minimums for military coordination

**Source**: KFAA coordination with Saudi Air Force / military flight ops

---

### 4. Complete OEGS VOR RWY 33 Minimums
**Status**: Chart exists in Saudi AIP but minimums not extracted
**Estimated**: 500ft/1600m
**Source**: Saudi GACA AIP AIRAC 04/24 ‚Üí OEGS IAP charts ‚Üí VOR RWY 33

---

## Medium-Priority Improvements üîß

### 5. Implement Time-Windowed TAF Parsing
**Current**: Basic TAF parsing, flags BECMG/TEMPO
**Needed**: Parse TAF for specific sortie time window (¬±1 hour)
**Impact**: More accurate alternate selection based on forecast conditions

---

### 6. Add NOTAM Checking
**Current**: No NOTAM integration
**Needed**: Check for runway closures, navaid outages, approach restrictions
**Impact**: Prevents selecting unsuitable alternates due to NOTAMs

---

### 7. Cache TAF Data
**Current**: Fetches TAF every time
**Needed**: Cache TAF data to avoid repeated API calls
**Impact**: Reduces API load, faster response

---

### 8. Add Fallback TAF Sources
**Current**: Relies on aviationweather.gov only
**Needed**: Add CheckWX, AVWX as fallback sources
**Impact**: Improves reliability if primary source is down

---

## Low-Priority Enhancements üí°

### 9. Improve CB Detection
**Current**: Basic string matching for "CB" in warnings
**Needed**: Distance/bearing from METAR remarks, PIREPs, or radar data
**Impact**: Better phase determination for convective activity

---

### 10. Generate Briefing PDF
**Current**: Text output only
**Needed**: PDF briefing with charts, weather graphics, METAR/TAF
**Impact**: Professional briefing format for pilots

---

### 11. Historical Weather Analysis
**Current**: Real-time analysis only
**Needed**: Analyze frequency of each phase by month/season
**Impact**: Long-term planning and training schedule optimization

---

## Data Sources Summary üìö

### ‚úÖ Successfully Accessed
- **SkyVector** (skyvector.com) ‚Äî runway data, navaids, elevations confirmed
- **aviationweather.gov API** ‚Äî METAR/TAF fetching working
- **Saudi GACA AIP** (aimss.sans.com.sa) ‚Äî partially accessed, some approach data confirmed

### ‚ö†Ô∏è Partially Accessible
- **Saudi GACA AIP IAP Charts** ‚Äî confirmed existence of approaches but minimums not fully extracted
  - OEGS: 3 approaches extracted ‚úÖ, 1 chart not read ‚ö†Ô∏è
  - OEHL: Approaches confirmed ‚úÖ, minimums not extracted ‚ö†Ô∏è
  - OEAH: Approach confirmed ‚úÖ, minimums not extracted ‚ö†Ô∏è

### ‚ùå Not Yet Accessed
- **OEKF official approach charts** ‚Äî military field, need KFAA coordination
- **Military airfield data** (OEKK, OEPS, OEDR) ‚Äî need military coordination
- **Jeppesen charts** ‚Äî subscription required
- **ICAO MID regional supplements** ‚Äî not checked

---

## Testing Checklist ‚úì

### Unit Tests
- [ ] METAR parser (various formats, edge cases)
- [ ] Wind component calculations (all quadrants, edge cases)
- [ ] Phase determination logic (boundary conditions)
- [ ] Alternate selection (priority order, suitability criteria)

### Integration Tests
- [ ] End-to-end with real METAR/TAF data
- [ ] Multiple weather scenarios (VFR ‚Üí IFR transition)
- [ ] Edge cases (calm winds, variable winds, missing data)

### Real-World Validation
- [ ] Compare script output to actual phase calls from KFAA tower
- [ ] Validate divert fuel calculations with flight planning
- [ ] Verify alternate selections match KFAA procedures
- [ ] Confirm IFR phase logic (higher of 2 approaches) with KFAA instructors

---

## Research Notes üìù

### Saudi AIP Access
**URL**: https://aimss.sans.com.sa/en/aip-saudi-arabia
**Status**: Website accessible, eAIP viewable
**Issue**: Navigation through frame-based interface difficult via automation
**Workaround**: Manual extraction from PDF charts for missing minimums

**Effective AIRAC**: 22 JAN 2026 (AIRAC 01/26)
**Publication date**: 11 DEC 2025

### SkyVector Findings
- Comprehensive free database for airport data
- Runway dimensions, navaids, frequencies confirmed for all airfields
- Does not show approach plate minimums (plates require subscription/login)
- Useful for verification of physical airfield data

### Military Airfield Data
All military airfields (OEKF, OEKK, OEPS, OEDR) have limited or no publicly available approach data. Standard practice is to use estimated minimums based on:
- ILS CAT I: 200 ft DH, 800m visibility
- VOR/TACAN: 500 ft MDA, 1600m visibility

For operational use, official charts should be obtained through military coordination.

---

## Version History üìÖ

### v2.0.0 (2026-01-30) ‚Äî Current
- ‚úÖ Created comprehensive `airfield_data.json` with v2 schema
- ‚úÖ Confirmed OEGS approach minimums from Saudi AIP (ILS, LOC, VOR RWY 15)
- ‚úÖ Confirmed OERK ILS minimums from Saudi AIP (all 4 runways)
- ‚úÖ Confirmed OEHL and OEAH ILS approaches exist (minimums estimated)
- ‚úÖ Corrected OEDR elevation from ~2000 ft to 84 ft MSL
- ‚úÖ Verified all runway data via SkyVector
- ‚úÖ Documented T-21 IFR phase logic for OEKF (higher of 2 approaches)
- ‚úÖ Marked all data as CONFIRMED or ESTIMATED with sources
- ‚ö†Ô∏è OEHL and OEAH minimums still need extraction from AIP charts
- ‚ö†Ô∏è Military airfield data (OEKF, OEKK, OEPS, OEDR) remain estimated

### v1.0.0 (Previous)
- Initial research
- Basic airfield data structure
- Most minimums estimated

---

## Contact / Support üìû

For KFAA-specific questions or to provide official approach data:
- **KFAA Flight Operations** ‚Äî official approach charts for OEKF
- **Saudi GACA AIP** ‚Äî civil airport approach data (aimss.sans.com.sa)
- **Data contributions**: Update `airfield_data.json` and document in this file

---

**Status Summary**:
- **8 alternates total**
- **2 fully confirmed** (OEGS [partial - 3/4 approaches], OERK)
- **2 approaches confirmed to exist, minimums estimated** (OEHL, OEAH) ‚Äî **HIGH PRIORITY**
- **4 military fields estimated** (OEKF, OEKK, OEPS, OEDR) ‚Äî need coordination
- **1 civil field estimated** (OEDM) ‚Äî low priority

**Next action**: Extract OEHL ILS RWY 18 and OEAH ILS RWY 34 minimums from Saudi GACA AIP IAP charts.
